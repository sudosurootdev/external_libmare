<!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Copyright (c) 2010-2013 Qualcomm Technologies, Inc. All rights reserved. 
  Confidential and Proprietary - Qualcomm Technologies, Inc.
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 header.html - Header file used to customize the headers on each HTML page for the API 
               Interface Specification documents.
 Updated:  03/08/13 LB Updated to support Doxygen 1.8.3.1.
 Updated:  10/25/12 LB Added company name changes.
 New file: 10/15/12 LB Created to support Rev E Alpha process using Doxygen 1.8.2 -->
<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"></meta>
<meta http-equiv="X-UA-Compatible" content="IE=9"></meta>
<title>Multicore Asynchronous Runtime Environment Parallel Programming Patterns</title><!--END !PROJECT_NAME-->
<link href="tabs.css" rel="stylesheet" type="text/css"></link>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="autoEnterCurrentDate.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="is.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Multicore Asynchronous Runtime Environment
   &#160;<span id="projectnumber">HT80-NG608-1 E</span>
   </div>
  </td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1-QCOM -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="revision_history.html"><span>Revision&#160;History</span></a></li>
      <li><a href="introduction.html"><span>Introduction</span></a></li>
      <li><a href="usergroup0.html"><span>Getting&#160;Started</span></a></li>
      <li><a href="usergroup1.html"><span>User&#160;Guide</span></a></li>
      <li><a href="usergroup3.html"><span>Tutorials</span></a></li>
      <li><a href="usergroup4.html"><span>Reference&#160;Manual</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('patterns.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Parallel Programming Patterns </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>One of MARE's main goals is to simplify parallel programming. To this end, MARE provides several constructs that encapsulate commonly used parallel programming patterns. Examples include: parallel iteration (parallel loop), parallel scan, and parallel transform. See "patterns.hh" for a detailed description of the parallel patterns. In this section we provide a high-level overview of what to expect from the parallel patterns.</p>
<p>The recommended workflow for using MARE to parallelize an algorithm is: check whether the parallelization can be expressed using one of the existing patterns. If so, use the pattern, measure the performance and efficiency, and refine the implementation using other MARE constructs only if the pattern implementation does not satisfy the performance criteria.</p>
<h1><a class="anchor" id="pariter"></a>
Parallel Iteration</h1>
<p>We currently support two parallel iterators (parallel loop type of constructs): <code>mare::pfor_each_async</code> and <code>mare::pfor_each</code>. These iterators concurrently execute the body of the loop for each instance of the element in the collection returned by the input iterator taken as an argument. The iterator can be expressed as a pair of integers, (lower bound, upper bound), or an iterator (begin, end).</p>
<div class="fragment"><div class="line"><span class="comment">// Parallel for-loop using indices</span></div>
<div class="line"><span class="comment">// vout[i] := 2*vin[i]</span></div>
<div class="line">vector&lt;size_t&gt; vout(vin.size());</div>
<div class="line"><a class="code" href="group__gpu__patterns.html#ga5a8a8a086f9cfc7b675357da24cdf420">pfor_each</a>(<span class="keywordtype">size_t</span>(0), vin.size(), [=,&amp;vin,&amp;vout] (<span class="keywordtype">size_t</span> i) {</div>
<div class="line">       vout[i] = 2*vin[i];</div>
<div class="line">});</div>
</div><!-- fragment --><p>Our current implementation divides the range of the iterator into chunks, and executes each set of iterations in a chunk as a task. This exploits locality and reduces the overhead of launching tasks. The chunking heuristic is simple, but effective for most array-based operations. More complex heuristics may be provided in the future.</p>
<p>The difference between <code>mare::pfor_each_async</code> and <code>mare::pfor_each</code> is that the <code>pfor_each</code> construct returns only when all the tasks have completed, while the <code>pfor_each_async</code> does not wait for termination.</p>
<h1><a class="anchor" id="parmap"></a>
Parallel Map and Parallel Prefix</h1>
<p>Another common pattern is <code>mare::ptransform</code>. This pattern applies a function object in parallel to every element of the input range collection(s), and stores the value in the output range. We provide both unary and binary versions of the operator; the latter case uses two input range collections. The ptransform pattern is blocking, waiting for the operations to terminate before returning.</p>
<p>MARE also implements <code>mare::pscan_inclusive</code>, a Sklansky-style, in-place parallel prefix operation. The applied operation must be associative, as the order in which the operations are applied is unpredictable. pscan_inclusive is also blocking, returning only when all the operations have completed.</p>
<p>The existing patterns are built using the basic MARE constructs of tasks and groups. However, they are optimized using knowledge about the pattern structure and the operations in the runtime to minimize the amount of synchronization, and to avoid other bookkeeping operations that are needed for more generic use. Because these patterns are layered on top of the MARE abstractions, programmers are welcome to add to the library of patterns.</p>
<p><a class="el" href="sdf.html">Synchronous Data-Flow (SDF)</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  Copyright (c) 2012-2013 Qualcomm Technologies, Inc. All rights reserved. 
  Confidential and Proprietary - Qualcomm Technologies, Inc.
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 footer.html - footer file used to customize the footers on each HTML page for the API 
               Interface Specification documents.
 Updated:  11/05/13 LB Removed confidential, distribution, and export statement.
 Updated:  09/20/13 LB Updated to support mare project's User Guide and API doc.
 Updated:  04/18/13 LB Added Documentation and Interface Specification in place of hard-coding doc dcn. Deleted original
                       use of Documentation and Interface Specification to display text in the left portion of the footer.
 Updated:  03/08/13 LB Updated to support Doxygen 1.8.3.1
 Updated:  01/18/13 LB Replaced qualcomm_logo.gif to QTI_Logo.png
 Updated:  10/25/12 LB Added company name changes.
 New file: 10/15/12 LB Created to support the Rev E Alpha Doxygen-to-HTML-PDF process. -->
<!-- start footer part -->
<!-- 7/12/12 JG added div class defined in css to include warning statement on all pages -->
<!--[if lte IE 8]><div class="warningmsgie8"><![endif]-->
<!--[if(gte IE 9)|!(IE)]><!--><div class="warningmsg"><!--<![endif]-->
</div>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="userguide.html">User Guide</a></li>
    <li class="footer">
		<p align="right">HT80-NG608-1 E<br />
        <img class="footer"  alt="QTI Logo" src="qti_logo_HTML.png" />
		</p>
		</li>
  </ul>
</div>
</body>
</html>
